language: node_js
node_js:
- '6'
before_install:
# TODO OSS
# - npm i npm-cli-login -g
# - npm-cli-login -u "${NPM_USER}" -p "${NPM_PASSWORD}" -e "${NPM_EMAIL}"
# - npm who
- echo "registry = https://realglobe.artifactoryonline.com/realglobe/api/npm/npm-virtual" > $HOME/.npmrc
- curl -u${NPM_USER}:${NPM_PASSWORD} "https://realglobe.artifactoryonline.com/realglobe/api/npm/auth" >> $HOME/.npmrc
- cat $HOME/.npmrc
install:
- npm install jsdoc -g
- npm install
script:
- ./ci/build.js
- ./ci/shim.js
- ./ci/doc.js
- ./ci/test.js
after_success:
- ./ci/travis/publish.js
env:
  secure: "AfgGzDW2L24U1TOAmi3W7eK8fJ3jmMMR0rlJGmAjTrvtGO3MXV399G0FB/s7wKfLlt0JgZVpzwdvcNzhl7ivMdTi9XWvYwlYlqRp61Phl23lAiu/tEbL7MRIEcLmHaLxQO+8E2JytAzV7SXrDm7CUwwPD6nKtELb8B31h1DDosKwBYBFIHUgvpSPMhyMC3Y3KwCZ+BulIW7kmQwz3x1gKK4T1Y4aYG4qAaUnWsAhMK9w1KnYNYygAXGL5BhaN4INmyNKyuPdhnJ8vTlEtjAVrsx9RbjocgdsM3cK6R4cjQIJZ5G6zAHT21aDq/IQxHg6tTObhk5Sy5b52FjTmUK73S+uEFdBeIYV6F3BCVOeCys+vgev0KbplPTv17nkffFPlJXonFewes3CBX4xaOXC/G+3TOyj0iEUJxCCjTC+NUs1tiQxdU0Xl/xBoYh2PQhh7zb/lXZO5K0B6tPg179o7RMKGVSKYEMqbjJv9U9ngL6yhYpaZ1ZpBXFGvEpTksQQp8VShHhJw3fUMgyxmbVLsl5yGH9Jk82NztbmHF7dvlhADAXqd1f3mv/biyPKzCuX6cj7pqKc/t2/aNayf4edwS7rVZc+iIejRw1NAgsvgQumlE6ztiDfRRvcew0crPokZwWFvuC/Cp3nesPBDnQjFwUMNdESx/tf8ZOat71Cxew="
